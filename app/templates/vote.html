{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block head %}
{{ super() }}
{{ pagedown.include_pagedown() }}
{% endblock %}

{% block app_content %}

<div class="container">
  <div class="row">
    <div class="col mt-4"><h3>Match voting</h3>
      <p>Select up to three players for MVP:</p>

      <form name="vote_form" name="vote_form" action="{{ url_for('main.register_vote', token=current_user.get_user_token(task='vote',payload={'match':1})) }}" method="post" enctype=multipart/form-data>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

        <div class="form-group d-flex justify-content-center">
        {% if roster['active'] %}
        {% for player in roster['active'] %}
        <div class="form-group">
          <label class="btn btn-info vote-btn m-1" for="active_choices-{{loop.index}}">
            <input type="checkbox" id="active_choices-{{loop.index}}" name="choices" value="{{ player.id }}">
            <span>{{ player.nickname }}</span>
          </label>
          <input id="overtime" name="overtime" type="checkbox" value="y"> <label class="form-check-label" for="overtime">Overtime</label>
        </div>
        {% endfor %}
        {% endif %}
        </div>

        <hr>

        <div class="form-row d-flex justify-content-center">
        {% if roster['inactive'] %}
        {% for player in roster['inactive'] %}
        <div class="form-group">
          <label class="btn btn-info vote-btn m-1" for="inactive_choices-{{loop.index}}">
            <input type="checkbox" id="inactive_choices-{{loop.index}}" name="choices" value="{{ player.id }}">
            <span>{{ player.nickname }}</span>
          </label>
        </div>
        {% endfor %}
        {% endif %}
        </div>

        <div class="form-row d-flex justify-content-center">
            <input type="submit" value="Vote" class="btn btn-primary my-2">
        </div>
      </form>

    </div>
  </div>
</div>

{% endblock %}

